<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
    

    <script>
    	//JavaScript 内部，字符以 UTF-16 的格式储存，每个字符固定为2个字节。对于那些需要4个字节储存的字符（Unicode 码点大于0xFFFF的字符），JavaScript 会认为它们是两个字符。
    	var s = "𠮷";

    	s.length // 2
    	s.charAt(0) // ''
    	s.charAt(1) // ''
    	s.charCodeAt(0) // 55362
    	s.charCodeAt(1) // 57271

    	let s = '𠮷a';

    	//ES6 提供了codePointAt方法，能够正确处理 4 个字节储存的字符，返回一个字符的码点。
    	s.codePointAt(0) // 134071
    	s.codePointAt(1) // 57271

    	s.codePointAt(2) // 97
    	//codePointAt方法的参数，是字符在字符串中的位置（从 0 开始）。上面代码中，JavaScript 将“𠮷a”视为三个字符，codePointAt 方法在第一个字符上，正确地识别了“𠮷”，返回了它的十进制码点 134071（即十六进制的20BB7）。在第二个字符（即“𠮷”的后两个字节）和第三个字符“a”上，codePointAt方法的结果与charCodeAt方法相同。
    	
    	//codePointAt方法是测试一个字符由两个字节还是由四个字节组成的最简单方法。
    	function is32Bit(c) {
    	  return c.codePointAt(0) > 0xFFFF;
    	}

    	is32Bit("𠮷") // true
    	is32Bit("a") // false
    </script>
</body>
</html>