<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
    <script>
    	//一旦设置了参数的默认值，函数进行声明初始化时，参数会形成一个单独的作用域（context）。
    	//等到初始化结束，这个作用域就会消失。这种语法行为，在不设置参数默认值时，是不会出现的。

    	//例子一
    	//参数y的默认值等于变量x。调用函数f时，参数形成一个单独的作用域。在这个作用域里面，默认值变量x指向第一个参数x，而不是全局变量x，所以输出是2。
    	var x = 1;

    	function f(x, y = x) {
    	  console.log(y);
    	}

    	f(2) // 2

    	//例子二
    	//说明参数形成的单独作用于要高于函数子块的作用域，故只能向上搜索，如果向上也搜索不到只能报错
    	let x = 1;

    	function f(y = x) {
    	  let x = 2;
    	  console.log(y);
    	}

    	f() // 1

    	//函数也是如此
    	let foo = 'outer';

    	function bar(func = () => foo) {
    	  let foo = 'inner';
    	  console.log(func());
    	}

    	bar(); // outer

    	//下面是一个更复杂的例子。
    	var x = 1;
    	function foo(x, y = function() { x = 2; }) {
    	  var x = 3;
    	  y();
    	  console.log(x);
    	}

    	foo() // 3
    	x // 1
    </script>
</body>
</html>